<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Saih Store - CAN 2025 MOROCCO</title>

    <!-- Meta Pixel Code (Ø¨Ù„Ø§ ØªØºÙŠÙŠØ±) -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1910150606256826');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1910150606256826&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¨Ù†ÙƒÙ‡Ø© ÙƒØ£Ø³ Ø¥ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„Ù…ØºØ±Ø¨ 2025 --- */
        :root { 
            --primary-color: #d4af37; /* Ø°Ù‡Ø¨ÙŠ Ø§Ù„ÙƒØ£Ø³ */
            --danger-color: #c1272d;  /* Ø£Ø­Ù…Ø± Ù…ØºØ±Ø¨ÙŠ */
            --success-color: #006233; /* Ø£Ø®Ø¶Ø± Ù…ØºØ±Ø¨ÙŠ */
            
            --bg-color: #0b0b0b;
            --card-bg: #1a1a1a;
            --input-bg: #262626;
            
            --text-main: #ffffff;
            --text-sub: #a1a1aa;
            
            --border-color: #333333;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Cairo', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-main); 
            direction: rtl; 
            text-align: right; 
            padding-bottom: 80px; 
            overflow-x: hidden; 
            transition: 0.3s; 
        }
        body[dir="ltr"] { font-family: 'Poppins', sans-serif; direction: ltr; text-align: left; }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        img { max-width: 100%; display: block; }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ù„ØºØ© --- */
        .lang-splash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color); z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.5s;
        }
        .lang-box { text-align: center; width: 90%; max-width: 350px; }
        .lang-box img { height: 80px; margin: 0 auto 30px; object-fit: contain; }
        .lang-box h2 { margin-bottom: 30px; color: var(--text-main); font-size: 18px; }
        .lang-select-btn {
            display: block; width: 100%; padding: 15px; margin-bottom: 15px;
            border: 1px solid var(--border-color); border-radius: 12px;
            background: var(--card-bg); color: var(--text-main);
            font-size: 16px; font-weight: bold;
            cursor: pointer; transition: 0.2s;
            display: flex; justify-content: space-between; align-items: center;
        }
        .lang-select-btn:hover { border-color: var(--primary-color); background: #2c2c2e; }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± --- */
        header { 
            background-color: var(--danger-color); 
            box-shadow: 0 4px 20px rgba(0,0,0,0.5); 
            border-bottom: 2px solid var(--primary-color);
            position: sticky; top: 0; z-index: 1000; 
        }
        .header-container { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; max-width: 1200px; margin: 0 auto; height: 65px; }
        .logo img { height: 45px; object-fit: contain; }
        
        .nav-links-desktop { display: flex; gap: 25px; font-weight: 700; color: white; }
        .header-icons { display: flex; gap: 15px; align-items: center; }
        .icon-btn { font-size: 22px; cursor: pointer; color: white; position: relative; }
        .cart-badge { 
            position: absolute; top: -8px; right: -8px; 
            background-color: var(--success-color); color: white; 
            font-size: 11px; width: 20px; height: 20px; 
            border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; border: 2px solid var(--danger-color);
        }

        /* --- Ø§Ø³ØªÙ…Ø§Ø±Ø© ØªØ­Øª Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø¨Ø§Ø´Ø±Ø© --- */
        .product-form-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid var(--border-color);
        }
        .product-form-box input {
            width: 100%;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--input-bg);
            color: white;
            font-family: inherit;
            font-size: 13px;
        }
        .product-form-box input:focus { border-color: var(--primary-color); }

        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; padding: 0 15px; max-width: 1200px; margin: 0 auto; }
        
        .product-card { 
            background: var(--card-bg); 
            border-radius: 18px; padding: 15px; position: relative; 
            display: flex; flex-direction: column; 
            border: 1px solid var(--border-color); 
            transition: transform 0.3s ease;
        }
        .product-card:hover { transform: translateY(-5px); border-color: var(--primary-color); }
        
        .product-img-container { position: relative; width: 100%; aspect-ratio: 1/1; margin-bottom: 12px; border-radius: 12px; overflow: hidden; background: #fff; }
        .product-img { width: 100%; height: 100%; object-fit: contain; cursor: zoom-in; }
        
        .discount-tag { position: absolute; top: 12px; right: 12px; background: var(--danger-color); color: white; padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: bold; z-index: 2; border: 1px solid var(--primary-color); }

        .product-title { font-size: 15px; font-weight: 700; margin-bottom: 8px; height: 42px; overflow: hidden; color: var(--primary-color); }
        .curr-price { color: white; font-weight: 900; font-size: 18px; }

        .actions-btn { display: flex; gap: 8px; }
        .buy-now-btn { flex: 2; background: var(--success-color); color: white; border: none; padding: 12px; border-radius: 10px; font-weight: 800; cursor: pointer; font-size: 14px; }
        .buy-now-btn:hover { background: #0e9f6e; }
        .add-cart-btn { flex: 1; background: transparent; color: var(--primary-color); border: 1px solid var(--primary-color); border-radius: 10px; cursor: pointer; font-size: 18px; display: flex; justify-content: center; align-items: center; }

        /* --- Ø§Ù„ÙÙˆØªØ± --- */
        .mobile-bottom-nav { 
            display: none; position: fixed; bottom: 0; left: 0; width: 100%; 
            background: var(--danger-color); 
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5); 
            z-index: 1500; justify-content: space-around; padding: 12px 0; 
            border-top: 2px solid var(--primary-color);
        }
        .nav-item { color: white; text-align: center; font-size: 11px; font-weight: bold; cursor: pointer; }
        .whatsapp-float { position: fixed; bottom: 90px; left: 20px; background: #25d366; color: white; width: 55px; height: 55px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 30px; z-index: 1400; border: 2px solid white; }

        /* Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; justify-content: center; align-items: center; backdrop-filter: blur(8px); }
        .modal-content { background: var(--card-bg); width: 90%; max-width: 420px; padding: 25px; border-radius: 20px; border: 2px solid var(--primary-color); position: relative; }
        
        @media (max-width: 768px) { 
            .mobile-bottom-nav { display: flex; } 
            .products-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„ØºØ© -->
    <div class="lang-splash" id="langSplash" style="display:none;">
        <div class="lang-box">
            <img src="https://i.postimg.cc/g0ybBZ6t/IMG-20251126-205405-472.jpg" alt="Logo">
            <h2 style="color:white">MAROC 2025 ğŸ† Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©</h2>
            <button class="lang-select-btn" onclick="selectLanguage('ar')"><span>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span><img src="https://flagcdn.com/w40/ma.png"></button>
            <button class="lang-select-btn" onclick="selectLanguage('en')"><span>English</span><img src="https://flagcdn.com/w40/us.png"></button>
        </div>
    </div>

    <header>
        <div class="header-container">
            <div class="logo"><img src="https://i.postimg.cc/g0ybBZ6t/IMG-20251126-205405-472.jpg" alt="Logo"></div>
            <div class="header-icons">
                <div class="icon-btn" onclick="openCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-badge" id="cartBadge">0</span>
                </div>
            </div>
        </div>
    </header>

    <div class="hero-slider"><img src="https://i.postimg.cc/VvFWP3Vq/1764285865239.png" style="width:100%;"></div>

    <div id="products">
        <div style="text-align: center; margin: 30px 0;">
            <h2 style="color: var(--primary-color); font-weight: 900;" data-i18n="featured_offers">Ø¹Ø±ÙˆØ¶ ÙƒØ£Ø³ Ø¥ÙØ±ÙŠÙ‚ÙŠØ§ Ù„Ù„Ù…Ù†ØªØ®Ø¨Ø§Øª 2025</h2>
            <p style="color: white;">ğŸ‡²ğŸ‡¦ Ø§Ù„Ù…ØºØ±Ø¨ ÙŠØ±Ø­Ø¨ Ø¨ÙƒÙ… ğŸ‡²ğŸ‡¦</p>
        </div>
        <div class="products-grid" id="products-container">
            <!-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ø¨Ø± JS -->
        </div>
    </div>

    <div class="mobile-bottom-nav">
        <div class="nav-item" onclick="window.scrollTo(0,0)"><i class="fas fa-home"></i><br><span data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></div>
        <div class="nav-item" onclick="openCart()"><i class="fas fa-shopping-cart"></i><br><span data-i18n="cart">Ø§Ù„Ø³Ù„Ø©</span></div>
        <div class="nav-item" onclick="window.location.href='https://wa.me/212695050162'"><i class="fab fa-whatsapp"></i><br><span data-i18n="whatsapp">ÙˆØ§ØªØ³Ø§Ø¨</span></div>
    </div>

    <a href="https://wa.me/212695050162" class="whatsapp-float"><i class="fab fa-whatsapp"></i></a>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© -->
    <div class="modal-overlay" id="cartModal">
        <div class="modal-content">
            <h3 style="color:var(--primary-color); text-align:center; margin-bottom:15px;" data-i18n="cart_title">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
            <div id="cartItemsList"></div>
            <div style="padding:15px; display:flex; justify-content:space-between; font-weight:bold; color:white;">
                <span data-i18n="total">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                <span><span id="cartTotal">0</span> <span data-i18n="currency">Ø¯.Ù…</span></span>
            </div>
            <button style="width:100%; padding:15px; background:var(--success-color); color:white; border:none; border-radius:10px; font-weight:bold;" onclick="openCartOrderForm()" data-i18n="complete_order">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</button>
            <i class="fas fa-times" onclick="closeCart()" style="position:absolute; top:15px; right:15px; color:white; cursor:pointer;"></i>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø·Ù„Ø¨ Ø§Ù„Ø³Ù„Ø© -->
    <div class="modal-overlay" id="cartOrderModal">
        <div class="modal-content">
            <h3 style="color:var(--primary-color); text-align:center; margin-bottom:15px;">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
            <form onsubmit="submitCartOrder(event)">
                <div class="product-form-box">
                    <input type="text" id="c_name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
                    <input type="tel" id="c_phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
                    <input type="text" id="c_city" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" required>
                    <input type="text" id="c_address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„" required>
                </div>
                <button type="submit" style="width:100%; padding:15px; background:var(--success-color); color:white; border:none; border-radius:10px; font-weight:bold;">ØªØ£ÙƒÙŠØ¯ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
            </form>
            <i class="fas fa-times" onclick="document.getElementById('cartOrderModal').style.display='none'" style="position:absolute; top:15px; right:15px; color:white; cursor:pointer;"></i>
        </div>
    </div>

    <script>
        const SHEET_ID = "1RmpZOJkkQTvYLPXNUxBxHkuNcqoiFn1z5Y0ZbQyx3vk"; 
        const MY_PHONE = "212695050162"; 

        const translations = {
            ar: { home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", cart: "Ø§Ù„Ø³Ù„Ø©", whatsapp: "ÙˆØ§ØªØ³Ø§Ø¨", featured_offers: "Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³ÙˆØ¯ 2025", buy_now: "Ø·Ù„Ø¨ Ø³Ø±ÙŠØ¹ Ø§Ù„Ø¢Ù†", cart_title: "Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª", total: "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:", currency: "Ø¯.Ù…", complete_order: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨", full_name: "Ø§Ù„Ø§Ø³Ù…", city: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", address: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù†", phone: "Ø§Ù„Ù‡Ø§ØªÙ", size: "Ø§Ù„Ù‚ÙŠØ§Ø³" },
            en: { home: "Home", cart: "Cart", whatsapp: "WhatsApp", featured_offers: "CAN 2025 Offers", buy_now: "Order Now", cart_title: "Shopping Cart", total: "Total:", currency: "DH", complete_order: "Checkout", full_name: "Name", city: "City", address: "Address", phone: "Phone", size: "Size" }
        };

        let cart = JSON.parse(localStorage.getItem('myCart')) || [];
        let currentLang = localStorage.getItem('lang') || 'ar';
        const productImages = {};

        applyLanguage(currentLang);
        fetchProducts();

        function selectLanguage(lang) {
            currentLang = lang; localStorage.setItem('lang', lang); location.reload();
        }

        function applyLanguage(lang) {
            const t = translations[lang];
            document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(t[key]) el.innerText = t[key];
            });
        }

        async function fetchProducts() {
            try {
                const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json`;
                const res = await fetch(url);
                const text = await res.text();
                const json = JSON.parse(text.substr(47).slice(0, -2));
                const container = document.getElementById('products-container');
                container.innerHTML = "";

                json.table.rows.forEach((row, index) => {
                    const title = row.c[0]?.v || "";
                    let price = row.c[1]?.v || "0";
                    const disc = row.c[3]?.v || "";
                    let imgStr = row.c[4]?.v || "";
                    if(title === "title" || !title) return;
                    
                    const images = imgStr.split(',').map(i => i.trim());
                    const safeTitle = title.replace(/'/g, "\\'");

                    const html = `
                        <div class="product-card">
                            ${disc ? `<div class="discount-tag">${disc}</div>` : ''}
                            <div class="product-img-container"><img src="${images[0]}" class="product-img"></div>
                            <div class="product-title">${title}</div>
                            <div class="curr-price">${price} ${translations[currentLang].currency}</div>
                            
                            <!-- Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨ ØªØ­Øª Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø¨Ø§Ø´Ø±Ø© -->
                            <div class="product-form-box" id="form-${index}">
                                <input type="text" placeholder="${translations[currentLang].full_name}" id="name-${index}">
                                <input type="tel" placeholder="${translations[currentLang].phone}" id="phone-${index}">
                                <input type="text" placeholder="${translations[currentLang].city} / ${translations[currentLang].address}" id="addr-${index}">
                                <input type="text" placeholder="${translations[currentLang].size} (L, XL, 42...)" id="size-${index}">
                            </div>

                            <div class="actions-btn">
                                <button class="buy-now-btn" onclick="submitQuickOrder(${index}, '${safeTitle}', '${price}')">
                                    ${translations[currentLang].buy_now}
                                </button>
                                <button class="add-cart-btn" onclick="addToCart('${safeTitle}', '${price}', '${images[0]}')">
                                    <i class="fas fa-cart-plus"></i>
                                </button>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
            } catch (e) { console.error(e); }
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù…Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        function submitQuickOrder(idx, title, price) {
            const name = document.getElementById(`name-${idx}`).value;
            const phone = document.getElementById(`phone-${idx}`).value;
            const addr = document.getElementById(`addr-${idx}`).value;
            const size = document.getElementById(`size-${idx}`).value;

            if(!name || !phone || !addr) {
                alert(currentLang === 'ar' ? "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø¥Ø³Ù…ØŒ Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù†" : "Fill Name, Phone and Address");
                return;
            }

            const msg = `ğŸ¦ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (CAN 2025)*%0a%0a` +
                        `ğŸ“¦ *Ø§Ù„Ù…Ù†ØªØ¬:* ${title}%0a` +
                        `ğŸ’° *Ø§Ù„Ø«Ù…Ù†:* ${price} ${translations[currentLang].currency}%0a` +
                        `ğŸ“ *Ø§Ù„Ù‚ÙŠØ§Ø³:* ${size || '---'}%0a` +
                        `Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€%0a` +
                        `ğŸ‘¤ *Ø§Ù„Ø²Ø¨ÙˆÙ†:* ${name}%0a` +
                        `ğŸ“ *Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}%0a` +
                        `ğŸ“ *Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:* ${addr}%0a` +
                        `Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€%0a` +
                        `ğŸ‡²ğŸ‡¦ *Ø¯ÙŠÙ…Ø§ Ù…ØºØ±Ø¨*`;

            // ØªØªØ¨Ø¹ Ø§Ù„Ø¨ÙŠÙƒØ³Ù„ (Purchase)
            if(typeof fbq !== 'undefined') fbq('track', 'Purchase', { value: parseFloat(price), currency: 'MAD' });
            window.open(`https://wa.me/${MY_PHONE}?text=${msg}`, '_blank');
        }

        function addToCart(title, price, img) {
            cart.push({ title, price, img });
            localStorage.setItem('myCart', JSON.stringify(cart));
            updateCartBadge();
            if(typeof fbq !== 'undefined') fbq('track', 'AddToCart', { content_name: title, value: price, currency: 'MAD' });
        }

        function updateCartBadge() { 
            const count = cart.length;
            document.getElementById('cartBadge').innerText = count;
        }

        function openCart() {
            const list = document.getElementById('cartItemsList');
            let total = 0;
            list.innerHTML = cart.length ? "" : "<p style='text-align:center; color:white;'>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>";
            cart.forEach((item, i) => {
                total += parseFloat(item.price) || 0;
                list.innerHTML += `<div style='display:flex; justify-content:space-between; color:white; margin-bottom:10px;'><span>${item.title}</span><b>${item.price}</b></div>`;
            });
            document.getElementById('cartTotal').innerText = total;
            document.getElementById('cartModal').style.display = 'flex';
        }

        function closeCart() { document.getElementById('cartModal').style.display = 'none'; }
        
        function openCartOrderForm() { 
            if(!cart.length) return;
            document.getElementById('cartModal').style.display = 'none'; 
            document.getElementById('cartOrderModal').style.display = 'flex'; 
        }

        function submitCartOrder(e) {
            e.preventDefault();
            const name = document.getElementById('c_name').value;
            const phone = document.getElementById('c_phone').value;
            const city = document.getElementById('c_city').value;
            let products = cart.map(item => `â–«ï¸ ${item.title}`).join('%0a');
            let total = document.getElementById('cartTotal').innerText;
            const msg = `ğŸ‘‹ *Ø·Ù„Ø¨ Ø³Ù„Ø©*%0a${products}%0ağŸ’° *Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:* ${total}%0ağŸ‘¤ *Ø§Ù„Ø§Ø³Ù…:* ${name}%0ağŸ“ *Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}%0ağŸ“ *Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:* ${city}`;
            if(typeof fbq !== 'undefined') fbq('track', 'Purchase', { value: parseFloat(total), currency: 'MAD' });
            window.open(`https://wa.me/${MY_PHONE}?text=${msg}`, '_blank');
            cart = []; localStorage.setItem('myCart', '[]'); location.reload();
        }

        updateCartBadge();
    </script>
</body>
</html>


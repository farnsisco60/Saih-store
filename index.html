<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Saih Store</title>

    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1910150606256826');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1910150606256826&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© (Dark Premium Theme) --- */
        :root { 
            --primary-color: #3b82f6;
            --danger-color: #ef4444;
            --success-color: #10b981;
            
            --bg-color: #000000;
            --card-bg: #1c1c1e;
            --input-bg: #2c2c2e;
            
            --text-main: #ffffff;
            --text-sub: #a1a1aa;
            
            --border-color: #333333;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Cairo', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-main); 
            direction: rtl; 
            text-align: right; 
            padding-bottom: 80px; 
            overflow-x: hidden; 
            transition: 0.3s; 
        }
        body[dir="ltr"] { font-family: 'Poppins', sans-serif; direction: ltr; text-align: left; }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        img { max-width: 100%; display: block; }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ù„ØºØ© --- */
        .lang-splash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color); z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.5s;
        }
        .lang-box { text-align: center; width: 90%; max-width: 350px; }
        .lang-box img { height: 80px; margin: 0 auto 30px; object-fit: contain; }
        .lang-box h2 { margin-bottom: 30px; color: var(--text-main); font-size: 18px; }
        .lang-select-btn {
            display: block; width: 100%; padding: 15px; margin-bottom: 15px;
            border: 1px solid var(--border-color); border-radius: 12px;
            background: var(--card-bg); color: var(--text-main);
            font-size: 16px; font-weight: bold;
            cursor: pointer; transition: 0.2s;
            display: flex; justify-content: space-between; align-items: center;
        }
        .lang-select-btn:hover { border-color: var(--primary-color); background: #2c2c2e; }
        .lang-select-btn img { width: 30px; height: auto; margin: 0; }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± --- */
        header { 
            background-color: var(--card-bg); 
            box-shadow: 0 4px 20px rgba(0,0,0,0.5); 
            border-bottom: 1px solid var(--border-color);
            position: sticky; top: 0; z-index: 1000; 
        }
        .header-container { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; max-width: 1200px; margin: 0 auto; height: 65px; }
        .logo img { height: 45px; object-fit: contain; }
        
        .nav-links-desktop { display: flex; gap: 25px; font-weight: 700; color: var(--text-sub); }
        .nav-links-desktop a:hover { color: var(--primary-color); }
        
        .header-icons { display: flex; gap: 15px; align-items: center; }
        .icon-btn { font-size: 22px; cursor: pointer; position: relative; color: var(--text-main); transition: transform 0.2s; }
        .cart-badge { 
            position: absolute; top: -8px; right: -8px; 
            background-color: var(--danger-color); color: white; 
            font-size: 11px; width: 20px; height: 20px; 
            border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; border: 2px solid var(--card-bg);
        }

        .mobile-menu-btn { font-size: 24px; cursor: pointer; display: none; color: var(--text-main); }
        
        /* --- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© --- */
        .sidebar-overlay { position: fixed; top: 0; right: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; display: none; opacity: 0; transition: opacity 0.3s; backdrop-filter: blur(5px); }
        .sidebar-overlay.active { display: block; opacity: 1; }
        
        .sidebar { 
            position: fixed; top: 0; width: 300px; height: 100%; 
            background: var(--card-bg); z-index: 2001; transition: 0.35s cubic-bezier(0.4, 0, 0.2, 1); 
            display: flex; flex-direction: column; padding: 25px; box-shadow: 0 0 30px rgba(0,0,0,0.5);
            border-left: 1px solid var(--border-color);
        }
        body[dir="rtl"] .sidebar { right: -300px; left: auto; }
        body[dir="rtl"] .sidebar.active { right: 0; }
        body[dir="ltr"] .sidebar { left: -300px; right: auto; }
        body[dir="ltr"] .sidebar.active { left: 0; }

        .sidebar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .sidebar-links a { display: flex; align-items: center; gap: 15px; font-size: 16px; font-weight: 600; padding: 15px 0; border-bottom: 1px solid var(--border-color); color: var(--text-main); }
        .sidebar-links a i { width: 25px; color: var(--primary-color); }
        
        .lang-divider { margin: 20px 0 10px; font-size: 12px; color: var(--text-sub); font-weight: bold; text-transform: uppercase; }
        .lang-option { cursor: pointer; display: flex; align-items: center; gap: 10px; padding: 10px 0; font-size: 15px; color: var(--text-main); }
        .lang-option:hover { color: var(--primary-color); }
        .lang-option img { width: 20px; }

        /* --- Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª --- */
        .hero-slider { margin-bottom: 30px; border-radius: 0 0 20px 20px; overflow: hidden; }
        .section-title { text-align: center; margin: 40px 0 30px; font-size: 26px; font-weight: 800; color: var(--text-main); }
        .section-title::after { content: ""; display: block; width: 60px; height: 4px; background: var(--danger-color); margin: 10px auto 0; border-radius: 2px; }
        
        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(165px, 1fr)); gap: 15px; padding: 0 15px; max-width: 1200px; margin: 0 auto; }
        
        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø§Ù„Ø¯Ø§ÙƒÙ†Ø© */
        .product-card { 
            background: var(--card-bg); 
            border-radius: 16px; padding: 12px; position: relative; 
            display: flex; flex-direction: column; justify-content: space-between; 
            transition: transform 0.2s; 
            border: 1px solid var(--border-color); 
        }
        
        .product-img-container { position: relative; width: 100%; aspect-ratio: 1/1; margin-bottom: 12px; border-radius: 12px; overflow: hidden; background: #fff; }
        .product-img { width: 100%; height: 100%; object-fit: contain; transition: opacity 0.3s; cursor: zoom-in; }
        
        .img-nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            width: 30px; height: 30px; background: rgba(0,0,0,0.6);
            border-radius: 50%; border: none; color: white;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; font-size: 14px;
            z-index: 5;
        }
        .img-prev { left: 5px; }
        .img-next { right: 5px; }

        .discount-tag { position: absolute; top: 12px; right: 12px; background: var(--danger-color); color: white; padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: bold; z-index: 2; box-shadow: 0 2px 5px rgba(0,0,0,0.3); }
        body[dir="ltr"] .discount-tag { right: auto; left: 12px; }

        .product-title { font-size: 14px; font-weight: 700; margin-bottom: 8px; height: 38px; overflow: hidden; line-height: 1.4; color: var(--text-main); }
        .price-box { display: flex; gap: 8px; align-items: center; margin-bottom: 12px; font-size: 15px; }
        .curr-price { color: var(--danger-color); font-weight: 900; font-size: 17px; }
        .old-price { text-decoration: line-through; color: var(--text-sub); font-size: 13px; }

        .actions-btn { display: flex; gap: 8px; }
        .buy-now-btn { flex: 2; background: var(--primary-color); color: white; border: none; padding: 10px; border-radius: 8px; font-weight: bold; font-family: inherit; font-size: 13px; cursor: pointer; }
        .add-cart-btn { flex: 1; background: transparent; color: var(--primary-color); border: 1px solid var(--primary-color); border-radius: 8px; cursor: pointer; font-size: 16px; display: flex; justify-content: center; align-items: center; transition: 0.2s; }
        .add-cart-btn:active { background: var(--primary-color); color: white; }

        /* --- Ø§Ù„ÙÙˆØªØ± --- */
        .mobile-bottom-nav { 
            display: none; position: fixed; bottom: 0; left: 0; width: 100%; 
            background: var(--card-bg); 
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5); 
            z-index: 1500; justify-content: space-around; padding: 12px 0; 
            border-top: 1px solid var(--border-color);
        }
        .nav-item { display: flex; flex-direction: column; align-items: center; font-size: 10px; color: var(--text-sub); cursor: pointer; gap: 4px; }
        .nav-item i { font-size: 18px; }
        .nav-item.active { color: var(--primary-color); font-weight: bold; }
        
        .whatsapp-float { position: fixed; bottom: 90px; left: 20px; background: #25d366; color: white; width: 55px; height: 55px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); z-index: 1400; transition: transform 0.2s; cursor: pointer; }
        body[dir="ltr"] .whatsapp-float { left: auto; right: 20px; }

        /* --- Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© --- */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; justify-content: center; align-items: center; backdrop-filter: blur(8px); }
        .modal-content { background: var(--card-bg); width: 90%; max-width: 420px; padding: 25px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); position: relative; animation: slideUp 0.3s ease; max-height: 90vh; overflow-y: auto; border: 1px solid var(--border-color); }
        
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        .modal-header-clean { text-align: center; margin-bottom: 25px; }
        .modal-header-clean h3 { font-size: 20px; font-weight: 800; color: var(--text-main); margin-bottom: 5px; }
        .modal-header-clean p { font-size: 14px; color: var(--primary-color); font-weight: 600; }
        
        .form-group { margin-bottom: 15px; text-align: inherit; }
        .form-label { display: block; margin-bottom: 6px; font-size: 13px; font-weight: 700; color: var(--text-sub); }
        .form-input { 
            width: 100%; padding: 14px; 
            border: 1px solid var(--border-color); border-radius: 10px; 
            font-family: inherit; font-size: 14px; 
            background: var(--input-bg); color: white; transition: all 0.3s;
        }
        .form-input:focus { border-color: var(--primary-color); background: #3a3a3c; }
        
        .form-row { display: flex; gap: 10px; }
        .form-row .form-group { flex: 1; }

        .submit-btn { 
            width: 100%; padding: 15px; 
            background: var(--success-color); color: white; 
            border: none; border-radius: 12px; 
            font-weight: 800; font-size: 16px; font-family: inherit; 
            cursor: pointer; margin-top: 10px; 
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3); transition: 0.2s;
            display: flex; justify-content: center; align-items: center; gap: 10px;
        }
        .close-modal-icon { position: absolute; top: 20px; right: 20px; font-size: 20px; color: var(--text-sub); cursor: pointer; padding: 5px; }
        body[dir="ltr"] .close-modal-icon { right: auto; left: 20px; }

        .cart-items-container { max-height: 60vh; overflow-y: auto; margin: 15px 0; }
        .cart-item { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; background: var(--input-bg); padding: 10px; border-radius: 12px; border: 1px solid var(--border-color); }
        .cart-item-title { color: var(--text-main); font-weight: bold; font-size: 13px; }
        .cart-item-price { color: var(--text-sub); font-size: 12px; }
        .cart-item img { width: 50px; height: 50px; border-radius: 8px; object-fit: cover; }

        /* --- Ù†Ø§ÙØ°Ø© ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø© (Zoom Modal) --- */
        .zoom-overlay { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: black; z-index: 5000; 
            justify-content: center; align-items: center; 
        }
        .zoom-img { max-width: 100%; max-height: 80vh; border-radius: 0; box-shadow: none; object-fit: contain; }
        .zoom-close { 
            position: absolute; top: 20px; right: 20px; color: white; font-size: 35px; cursor: pointer; 
            width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; z-index: 5002;
        }
        .zoom-nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            color: white; font-size: 40px; cursor: pointer; padding: 20px; 
            user-select: none; z-index: 5001; text-shadow: 0 2px 10px rgba(0,0,0,0.8);
        }
        .zoom-prev { left: 10px; }
        .zoom-next { right: 10px; }

        @media (max-width: 768px) { 
            .mobile-menu-btn { display: block; } 
            .mobile-bottom-nav { display: flex; } 
            .nav-links-desktop { display: none; }
        }

        /* --- ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ ÙˆØ§Ù„ØªÙ„ÙØ§Ø² --- */
        @media (min-width: 769px) {
            .products-grid {
                /* Ø¬Ø¹Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø£ÙƒØ¨Ø± ÙˆØ§Ø³ØªØºÙ„Ø§Ù„ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ§Ù…Ù„ */
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); 
                max-width: 95%; 
            }
            .header-container {
                max-width: 95%;
            }
        }
    </style>
</head>
<body>

    <div class="lang-splash" id="langSplash" style="display:none;">
        <div class="lang-box">
            <img src="https://i.postimg.cc/g0ybBZ6t/IMG-20251126-205405-472.jpg" alt="Logo">
            <h2 style="color:white">Select Language / Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©</h2>
            <button class="lang-select-btn" onclick="selectLanguage('ar')"><span>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span><img src="https://flagcdn.com/w40/ma.png" alt="AR"></button>
            <button class="lang-select-btn" onclick="selectLanguage('en')"><span>English</span><img src="https://flagcdn.com/w40/us.png" alt="EN"></button>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙƒØ¨ÙŠØ± (Lightbox) -->
    <div class="zoom-overlay" id="zoomModal">
        <div class="zoom-close" onclick="closeZoom()">&times;</div>
        <div class="zoom-nav-btn zoom-prev" onclick="navigateZoom(-1)">&#10094;</div>
        <div class="zoom-nav-btn zoom-next" onclick="navigateZoom(1)">&#10095;</div>
        <img src="" id="zoomedImage" class="zoom-img">
    </div>

    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3 style="font-weight:900; color:var(--primary-color)">Saih Store</h3>
            <div class="close-sidebar" onclick="toggleSidebar()"><i class="fas fa-times"></i></div>
        </div>
        <div class="sidebar-links">
            <a href="#" onclick="toggleSidebar()"><i class="fas fa-home"></i> <span data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></a>
            <a href="#products" onclick="toggleSidebar()"><i class="fas fa-th-large"></i> <span data-i18n="products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</span></a>
            <a href="#" onclick="openCart(); toggleSidebar()"><i class="fas fa-shopping-cart"></i> <span data-i18n="cart">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</span></a>
            <!-- Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« ØªØªØ¨Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ù‡Ù†Ø§ -->
            <a href="https://wa.me/212695050162" onclick="fbq('track', 'Contact'); toggleSidebar()"><i class="fab fa-whatsapp"></i> <span data-i18n="contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</span></a>
            <div class="lang-divider" data-i18n="language">Ø§Ù„Ù„ØºØ© / Language</div>
            <div class="lang-option" onclick="selectLanguage('ar'); toggleSidebar()"><img src="https://flagcdn.com/w20/ma.png"> Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
            <div class="lang-option" onclick="selectLanguage('en'); toggleSidebar()"><img src="https://flagcdn.com/w20/us.png"> English</div>
        </div>
    </div>

    <header>
        <div class="header-container">
            <div class="mobile-menu-btn" onclick="toggleSidebar()"><i class="fas fa-bars"></i></div>
            <div class="logo"><a href="#"><img src="https://i.postimg.cc/g0ybBZ6t/IMG-20251126-205405-472.jpg" alt="Logo"></a></div>
            <div class="nav-links-desktop">
                <a href="#" data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="#products" data-i18n="products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
            </div>
            <div class="header-icons">
                <div class="icon-btn" onclick="openCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-badge" id="cartBadge">0</span>
                </div>
            </div>
        </div>
    </header>

    <div class="hero-slider"><img src="https://i.postimg.cc/VvFWP3Vq/1764285865239.png" style="width:100%;"></div>

    <div id="products">
        <div class="section-title" data-i18n="featured_offers">Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</div>
        <div class="products-grid" id="products-container">
            <p style="text-align:center; padding:40px; width:100%; color:var(--text-sub)"><i class="fas fa-spinner fa-spin"></i> Loading...</p>
        </div>
    </div>

    <div style="height: 50px;"></div>

    <div class="mobile-bottom-nav">
        <div class="nav-item active" onclick="window.scrollTo(0,0)"><i class="fas fa-home"></i> <span data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></div>
        <div class="nav-item" onclick="openCart()"><i class="fas fa-shopping-cart"></i> <span data-i18n="cart">Ø§Ù„Ø³Ù„Ø©</span> <span style="font-size:10px; color:var(--danger-color); font-weight:bold" id="bottomCartCount">(0)</span></div>
        <div class="nav-item" onclick="fbq('track', 'Contact'); window.location.href='https://wa.me/212695050162'"><i class="fab fa-whatsapp"></i> <span data-i18n="whatsapp">ÙˆØ§ØªØ³Ø§Ø¨</span></div>
    </div>

    <!-- Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« ØªØªØ¨Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ù„Ù„Ø²Ø± Ø§Ù„Ø¹Ø§Ø¦Ù… -->
    <a href="https://wa.me/212695050162" onclick="fbq('track', 'Contact')" class="whatsapp-float"><i class="fab fa-whatsapp"></i></a>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³Ù„Ø© -->
    <div class="modal-overlay" id="cartModal">
        <div class="modal-content">
            <i class="fas fa-times close-modal-icon" onclick="closeCart()"></i>
            <div class="modal-header-clean">
                <h3 data-i18n="cart_title">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
                <p data-i18n="review_order">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</p>
            </div>
            <div class="cart-items-container" id="cartItemsList">
                <p style="text-align:center; color:var(--text-sub); padding:20px;" data-i18n="empty_cart">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>
            </div>
            <div style="border-top:1px solid var(--border-color); padding-top:15px; margin-top:10px; display:flex; justify-content:space-between; font-weight:bold; font-size:18px;">
                <span data-i18n="total">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                <span style="color:var(--danger-color)"><span id="cartTotal">0</span> <span data-i18n="currency">Ø¯.Ù…</span></span>
            </div>
            <button class="submit-btn" onclick="openCartOrderForm()"><span data-i18n="complete_order">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</span> <i class="fas fa-arrow-left"></i></button>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø·Ù„Ø¨ Ø§Ù„Ø³Ù„Ø© (Ù…Ø¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª) -->
    <div class="modal-overlay" id="cartOrderModal">
        <div class="modal-content">
            <i class="fas fa-times close-modal-icon" onclick="document.getElementById('cartOrderModal').style.display='none'"></i>
            <div class="modal-header-clean">
                <h3 data-i18n="delivery_info">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
                <p data-i18n="enter_details">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</p>
            </div>
            <form onsubmit="submitCartOrder(event)">
                <div class="form-group"><label class="form-label" data-i18n="full_name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label><input type="text" id="c_name" class="form-input" required></div>
                <div class="form-group"><label class="form-label" data-i18n="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label><input type="tel" id="c_phone" class="form-input" required></div>
                <div class="form-group"><label class="form-label" data-i18n="city">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label><input type="text" id="c_city" class="form-input" required></div>
                <div class="form-group"><label class="form-label" data-i18n="address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„</label><input type="text" id="c_address" class="form-input" required></div>
                <div class="form-group"><label class="form-label" data-i18n="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ù„Ø£Ù„ÙˆØ§Ù†/Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª)</label><textarea id="c_notes" class="form-input" placeholder="..."></textarea></div>
                <button type="submit" class="submit-btn"><span data-i18n="confirm_whatsapp">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</span> <i class="fab fa-whatsapp"></i></button>
            </form>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± (Ù…Ø¹ Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ù…Ù‚Ø§Ø³) -->
    <div class="modal-overlay" id="singleOrderModal">
        <div class="modal-content">
            <i class="fas fa-times close-modal-icon" onclick="document.getElementById('singleOrderModal').style.display='none'"></i>
            <div class="modal-header-clean">
                <h3 data-i18n="quick_buy">Ø´Ø±Ø§Ø¡ Ø³Ø±ÙŠØ¹</h3>
                <p id="singleProductName">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</p>
            </div>
            <form onsubmit="submitSingleOrder(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" data-i18n="size">Ø§Ù„Ù…Ù‚Ø§Ø³</label>
                        <input type="text" id="s_size" class="form-input" placeholder="L, XL, 42...">
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="color">Ø§Ù„Ù„ÙˆÙ†</label>
                        <input type="text" id="s_color" class="form-input" placeholder="Ø£Ø­Ù…Ø±, Ø£Ø³ÙˆØ¯...">
                    </div>
                </div>
                <div class="form-group"><label class="form-label" data-i18n="full_name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label><input type="text" id="s_name" class="form-input" required></div>
                <div class="form-group"><label class="form-label" data-i18n="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label><input type="tel" id="s_phone" class="form-input" required></div>
                <div class="form-group"><label class="form-label" data-i18n="city">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label><input type="text" id="s_city" class="form-input" required></div>
                <div class="form-group"><label class="form-label" data-i18n="address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„</label><input type="text" id="s_address" class="form-input" required></div>
                <button type="submit" class="submit-btn"><span data-i18n="send_order">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</span> <i class="fab fa-whatsapp"></i></button>
            </form>
        </div>
    </div>

    <script>
        const SHEET_URL = "https://docs.google.com/spreadsheets/d/1RmpZOJkkQTvYLPXNUxBxHkuNcqoiFn1z5Y0ZbQyx3vk/edit?usp=drivesdk"; 
        const MY_PHONE = "212695050162"; 

        const translations = {
            ar: {
                home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", products: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª", cart: "Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª", contact: "Ø§ØªØµÙ„ Ø¨Ù†Ø§", whatsapp: "ÙˆØ§ØªØ³Ø§Ø¨",
                featured_offers: "Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù…ÙŠØ²Ø©", buy_now: "Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†",
                cart_title: "Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª", review_order: "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª", empty_cart: "Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©",
                total: "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:", currency: "Ø¯.Ù…", complete_order: "Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨",
                delivery_info: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„", enter_details: "Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨",
                full_name: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„", phone: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ", city: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", address: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„",
                confirm_whatsapp: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨", language: "Ø§Ù„Ù„ØºØ© / Language",
                quick_buy: "Ø´Ø±Ø§Ø¡ Ø³Ø±ÙŠØ¹", send_order: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†",
                size: "Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)", color: "Ø§Ù„Ù„ÙˆÙ† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)", notes: "Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©",
                msg_hello: "Ù…Ø±Ø­Ø¨Ø§Ù‹", msg_order_cart: "Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª)", msg_order_single: "Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (Ø´Ø±Ø§Ø¡ Ø³Ø±ÙŠØ¹)",
                msg_products: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©", msg_total: "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ", msg_customer: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†",
                msg_name: "Ø§Ù„Ø§Ø³Ù…", msg_phone: "Ø§Ù„Ù‡Ø§ØªÙ", msg_city: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", msg_address: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù†", msg_confirm: "ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨",
                msg_size: "Ø§Ù„Ù…Ù‚Ø§Ø³", msg_color: "Ø§Ù„Ù„ÙˆÙ†", msg_notes: "Ù…Ù„Ø§Ø­Ø¸Ø§Øª"
            },
            en: {
                home: "Home", products: "Products", cart: "Cart", contact: "Contact Us", whatsapp: "WhatsApp",
                featured_offers: "Featured Offers", buy_now: "Buy Now",
                cart_title: "Shopping Cart", review_order: "Review your items", empty_cart: "Cart is empty",
                total: "Total:", currency: "DH", complete_order: "Checkout",
                delivery_info: "Delivery Info", enter_details: "Enter details to complete order",
                full_name: "Full Name", phone: "Phone Number", city: "City", address: "Detailed Address",
                confirm_whatsapp: "Confirm via WhatsApp", language: "Language",
                quick_buy: "Quick Buy", send_order: "Order Now",
                size: "Size (Optional)", color: "Color (Optional)", notes: "Additional Notes",
                msg_hello: "Hello", msg_order_cart: "New Order (Cart)", msg_order_single: "New Order (Quick Buy)",
                msg_products: "Ordered Products", msg_total: "Total Amount", msg_customer: "Customer Info",
                msg_name: "Name", msg_phone: "Phone", msg_city: "City", msg_address: "Address", msg_confirm: "Please confirm order",
                msg_size: "Size", msg_color: "Color", msg_notes: "Notes"
            }
        };

        const productImages = {};
        let currentZoomProductIdx = 0;
        let currentZoomImgIdx = 0;

        let currentLang = localStorage.getItem('lang');
        if (!currentLang) {
            document.getElementById('langSplash').style.display = 'flex';
        } else {
            applyLanguage(currentLang);
            fetchProducts();
        }

        function selectLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            applyLanguage(lang);
            const splash = document.getElementById('langSplash');
            splash.style.opacity = '0';
            setTimeout(() => { splash.style.display = 'none'; }, 500);
            fetchProducts();
        }

        function applyLanguage(lang) {
            const t = translations[lang];
            document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(t[key]) el.innerText = t[key];
            });
            const container = document.getElementById('products-container');
            if(container.innerHTML.includes('product-card')) { fetchProducts(); }
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        function openZoom(productIdx, imgIdx) {
            currentZoomProductIdx = productIdx;
            currentZoomImgIdx = imgIdx;
            updateZoomImage();
            document.getElementById('zoomModal').style.display = 'flex';
            
            // --- PIXEL: ViewContent ---
            if(typeof fbq !== 'undefined') fbq('track', 'ViewContent');
        }

        function closeZoom() {
            document.getElementById('zoomModal').style.display = 'none';
        }

        function navigateZoom(direction) {
            event.stopPropagation();
            const images = productImages[currentZoomProductIdx];
            if (!images || images.length <= 1) return;
            currentZoomImgIdx += direction;
            if (currentZoomImgIdx >= images.length) currentZoomImgIdx = 0;
            if (currentZoomImgIdx < 0) currentZoomImgIdx = images.length - 1;
            updateZoomImage();
        }

        function updateZoomImage() {
            const images = productImages[currentZoomProductIdx];
            if (images && images[currentZoomImgIdx]) {
                document.getElementById('zoomedImage').src = images[currentZoomImgIdx];
            }
        }

        async function fetchProducts() {
            try {
                const sheetId = "1RmpZOJkkQTvYLPXNUxBxHkuNcqoiFn1z5Y0ZbQyx3vk"; 
                const url = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json`;
                const res = await fetch(url);
                const text = await res.text();
                const json = JSON.parse(text.substr(47).slice(0, -2));
                
                const container = document.getElementById('products-container');
                container.innerHTML = "";

                if (json.table.rows.length === 0) container.innerHTML = "<p>No products found</p>";

                json.table.rows.forEach((row, index) => {
                    const title = row.c[0]?.v || "";
                    let price = row.c[1]?.v || "0";
                    const old = row.c[2]?.v || "";
                    const disc = row.c[3]?.v || "";
                    let imgStr = row.c[4]?.v || "";

                    if(title === "title" || price === "price") return;
                    
                    if(!imgStr) imgStr = "https://via.placeholder.com/150";
                    const images = imgStr.split(',').map(i => i.trim());
                    productImages[index] = images;

                    const safeTitle = title.replace(/'/g, "\\'"); 
                    const safeImg = images[0];
                    const buyBtnText = translations[currentLang].buy_now;
                    const currency = translations[currentLang].currency;

                    let imgControls = '';
                    if (images.length > 1) {
                        imgControls = `
                            <button class="img-nav-btn img-prev" onclick="changeImage(${index}, -1)">&#10094;</button>
                            <button class="img-nav-btn img-next" onclick="changeImage(${index}, 1)">&#10095;</button>
                        `;
                    }

                    const html = `
                        <div class="product-card">
                            ${disc ? `<div class="discount-tag">${disc}</div>` : ''}
                            <div class="product-img-container">
                                ${imgControls}
                                <img src="${images[0]}" class="product-img" id="img-${index}" data-idx="0" onclick="openZoom(${index}, 0)" onerror="this.src='https://via.placeholder.com/150'">
                            </div>
                            <div class="product-title">${title}</div>
                            <div class="price-box">
                                <span class="curr-price">${price} ${currency}</span>
                                ${old ? `<span class="old-price">${old}</span>` : ''}
                            </div>
                            <div class="actions-btn">
                                <!-- Pass price to openSingleOrder for accurate pixel tracking -->
                                <button class="buy-now-btn" onclick="openSingleOrder('${safeTitle}', '${price}')">${buyBtnText}</button>
                                <button class="add-cart-btn" onclick="addToCart('${safeTitle}', '${price}', '${safeImg}')"><i class="fas fa-cart-plus"></i></button>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
            } catch (e) {
                console.log(e);
            }
        }

        function changeImage(productIndex, direction) {
            const imgElement = document.getElementById(`img-${productIndex}`);
            let currentImgIdx = parseInt(imgElement.getAttribute('data-idx'));
            const images = productImages[productIndex];
            let newIdx = currentImgIdx + direction;
            if (newIdx >= images.length) newIdx = 0;
            if (newIdx < 0) newIdx = images.length - 1;
            imgElement.src = images[newIdx];
            imgElement.setAttribute('data-idx', newIdx);
            imgElement.onclick = function() { openZoom(productIndex, newIdx); };
        }

        let cart = JSON.parse(localStorage.getItem('myCart')) || [];

        function addToCart(title, price, img) {
            cart.push({ title: title, price: price, img: img });
            saveCart();

            // --- PIXEL: AddToCart ---
            if(typeof fbq !== 'undefined') {
                fbq('track', 'AddToCart', {
                    content_name: title,
                    value: price,
                    currency: 'MAD'
                });
            }
            
            const btn = event.currentTarget;
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i>';
            btn.style.background = '#28a745';
            btn.style.color = 'white';
            setTimeout(() => {
                btn.innerHTML = originalHTML;
                btn.style.background = 'transparent';
                btn.style.color = 'var(--primary-color)';
            }, 1000);
        }

        function saveCart() {
            localStorage.setItem('myCart', JSON.stringify(cart));
            updateCartBadge();
        }

        function updateCartBadge() {
            const count = cart.length;
            document.getElementById('cartBadge').innerText = count;
            document.getElementById('bottomCartCount').innerText = `(${count})`;
        }

        function openCart() {
            const list = document.getElementById('cartItemsList');
            const totalEl = document.getElementById('cartTotal');
            list.innerHTML = "";
            let total = 0;
            const currency = translations[currentLang].currency;

            if(cart.length === 0) {
                list.innerHTML = `<p style='text-align:center; padding:20px; color:var(--text-sub)'>${translations[currentLang].empty_cart}</p>`;
            } else {
                cart.forEach((item, index) => {
                    let priceNum = parseFloat(item.price);
                    if(isNaN(priceNum)) priceNum = 0;
                    total += priceNum;
                    list.innerHTML += `
                        <div class="cart-item">
                            <img src="${item.img}">
                            <div class="cart-item-details">
                                <div class="cart-item-title">${item.title}</div>
                                <div class="cart-item-price">${item.price} ${currency}</div>
                            </div>
                            <i class="fas fa-trash remove-item" style="color:#ef4444" onclick="removeFromCart(${index})"></i>
                        </div>
                    `;
                });
            }
            totalEl.innerText = total;
            document.getElementById('cartModal').style.display = 'flex';
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            saveCart();
            openCart();
        }

        function closeCart() {
            document.getElementById('cartModal').style.display = 'none';
        }

        function openCartOrderForm() {
            if(cart.length === 0) return alert(translations[currentLang].empty_cart);
            document.getElementById('cartModal').style.display = 'none';
            document.getElementById('cartOrderModal').style.display = 'flex';
            
            // --- PIXEL: InitiateCheckout ---
            if(typeof fbq !== 'undefined') fbq('track', 'InitiateCheckout');
        }

        function submitCartOrder(e) {
            e.preventDefault();
            const t = translations[currentLang];
            const name = document.getElementById('c_name').value;
            const phone = document.getElementById('c_phone').value;
            const city = document.getElementById('c_city').value;
            const address = document.getElementById('c_address').value;
            const notes = document.getElementById('c_notes').value;
            let total = 0;
            let productsText = "";
            cart.forEach((item) => {
                let p = parseFloat(item.price);
                if(isNaN(p)) p = 0;
                total += p;
                productsText += `â–«ï¸ ${item.title}  [${item.price} ${t.currency}]%0a`;
            });
            let notesText = notes ? `ğŸ“ *${t.msg_notes}:* ${notes}%0a` : "";
            const msg = `ğŸ‘‹ *${t.msg_hello}, ${t.msg_order_cart}* %0a%0a` +
                        `ğŸ›’ *${t.msg_products}:*%0a` +
                        `Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€%0a` +
                        `${productsText}` +
                        `Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€%0a` +
                        `ğŸ’° *${t.msg_total}:* ${total} ${t.currency}%0a` +
                        `Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€%0a` +
                        `ğŸ‘¤ *${t.msg_customer}:*%0a` +
                        `â–ªï¸ *${t.msg_name}:* ${name}%0a` +
                        `â–ªï¸ *${t.msg_phone}:* ${phone}%0a` +
                        `â–ªï¸ *${t.msg_city}:* ${city}%0a` +
                        `â–ªï¸ *${t.msg_address}:* ${address}%0a` +
                        `${notesText}` +
                        `Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€%0a` +
                        `ğŸšš ${t.msg_confirm}.`;
            
            // --- PIXEL: Purchase (Cart) ---
            // Updated with dynamic value
            if(typeof fbq !== 'undefined') {
                fbq('track', 'Purchase', {
                    value: total,
                    currency: 'MAD',
                    num_items: cart.length
                });
            }

            window.open(`https://wa.me/${MY_PHONE}?text=${msg}`, '_blank');
            document.getElementById('cartOrderModal').style.display = 'none';
            cart = [];
            saveCart();
        }

        let currentProduct = "";
        let currentSinglePrice = 0; // Variable to store price for pixel

        function openSingleOrder(title, price) {
            currentProduct = title;
            currentSinglePrice = price; // Store price
            document.getElementById('singleProductName').innerText = title;
            document.getElementById('singleOrderModal').style.display = 'flex';
            
            // --- PIXEL: InitiateCheckout ---
            if(typeof fbq !== 'undefined') fbq('track', 'InitiateCheckout');
        }

        function submitSingleOrder(e) {
            e.preventDefault();
            const t = translations[currentLang];
            const name = document.getElementById('s_name').value;
            const phone = document.getElementById('s_phone').value;
            const city = document.getElementById('s_city').value;
            const address = document.getElementById('s_address').value;
            const size = document.getElementById('s_size').value;
            const color = document.getElementById('s_color').value;
            let variants = "";
            if(size) variants += `ğŸ“ *${t.msg_size}:* ${size}%0a`;
            if(color) variants += `ğŸ¨ *${t.msg_color}:* ${color}%0a`;
            const msg = `ğŸ‘‹ *${t.msg_hello}, ${t.msg_order_single}* %0a%0a` +
                        `ğŸ“¦ *${t.products}:* ${currentProduct}%0a` +
                        `${variants}` +
                        `Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€%0a` +
                        `ğŸ‘¤ *${t.msg_customer}:*%0a` +
                        `â–ªï¸ *${t.msg_name}:* ${name}%0a` +
                        `â–ªï¸ *${t.msg_phone}:* ${phone}%0a` +
                        `â–ªï¸ *${t.msg_city}:* ${city}%0a` +
                        `â–ªï¸ *${t.msg_address}:* ${address}%0a` +
                        `Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€%0a` +
                        `ğŸšš ${t.msg_confirm}.`;

            // --- PIXEL: Purchase (Single) ---
            // Updated with dynamic value from button click
            if(typeof fbq !== 'undefined') {
                fbq('track', 'Purchase', {
                    content_name: currentProduct,
                    value: parseFloat(currentSinglePrice) || 0,
                    currency: 'MAD'
                });
            }

            window.open(`https://wa.me/${MY_PHONE}?text=${msg}`, '_blank');
            document.getElementById('singleOrderModal').style.display = 'none';
        }

        updateCartBadge();
    </script>
</body>
</html>






